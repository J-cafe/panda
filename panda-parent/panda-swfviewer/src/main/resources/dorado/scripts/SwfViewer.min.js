dorado.widget.SwfViewer=$extend(dorado.widget.Control,{$className:"dorado.widget.Swfviewer",ATTRIBUTES:{width:{defaultValue:400},height:{defaultValue:400},swfUrl:{},handlerName:{},parameter:{},version:{defaultValue:"9.0.0"},expressInstallSwfurl:{},flashvars:{},params:{},attributes:{},showType:{defaultValue:"complex"},printEnabled:{defaultValue:true}},createDom:function(){var a=$DomUtils.xCreate({tagName:"div"});return a},refreshDom:function(a){$invokeSuper.call(this,arguments)},doOnAttachToDocument:function(){var a=this;a.refreshSwf()},refreshSwf:function(){if(swfobject.hasFlashPlayerVersion("9.0.0")){this._embedSWF()}else{var b="<div>Either scripts and active content are not permitted to run or Adobe Flash Player version 9.0.0 or greater is not installed.</div>",a="<a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash Player'/></a>";jQuery(this.getDom()).html(b+a)}},_embedSWF:function(){var g=this,a="",b=jQuery(g.getDom()).attr("id"),h="dorado/bdf2/swfviewer/swfFile.do",e=$url(">dorado/res/dorado/resources/flash/expressInstall.swf");a=g._swfUrl?g._swfUrl:h,values=[];if(g._handlerName){values.push("handler="+encodeURIComponent(g._handlerName))}else{if(h==a){return}}if(g._parameter){var j=g._parameter;if(typeof j=="string"){values.push("parameter="+encodeURIComponent(j))}else{for(var l in j){if(j.hasOwnProperty(l)){if(j[l]===undefined){continue}if(j[l]!=null){values.push(l+"="+encodeURIComponent(j[l]))}}}}}for(var f=0;f<values.length;f++){var k=values[f];if(a.indexOf("?")==-1){a=a+"?"+k}else{a=a+"&"+k}}if(g._showType=="complex"){a=escape(a);var d=$url(">dorado/res/dorado/resources/flash/swfviewer.swf");var c={swf:$url(a),PrintEnabled:g._printEnabled};swfobject.embedSWF(d,b,g._width,g._height,g._version,e,c)}else{swfobject.embedSWF($url(a),b,g._width,g._height,g._version,g._expressInstallSwfurl||e,g._flashvars||{},g._params||{},g._attributes||{})}}});